@model IEnumerable<Domain.Domain.Chamado>;

    <div class="container bg-white p-4 rounded mt-5">
      <h3 class="mb-3">Fluxo de chamados</h3>
    <form asp-action="EditPost" method="post" id="atenderForm">
      <div class="row">
          <!-- Área de Tabela -->
          <div class="col-md-8 mb-5">
              <table class="table table-hover">
                  <thead class="table-dark">
                      <tr>
                          <th></th>
                          <th scope="col">ID</th>
                          <th scope="col">Motivo</th>
                          <th scope="col">Complemento</th>
                          <th scope="col">Urgência</th>
                          <th scope="col">Status</th>
                      </tr>
                  </thead>
                  <tbody>
                      <!-- Exemplo de linha da tabela -->
                    @foreach (var chamado in Model)
                    {
                <tr>
                    <td>
                      <input asp-for="@chamado.Id" type="radio" name="selectedChamadoId" value="@chamado.Id" data-observacoes="@chamado.Observacoes" />
                    </td>
                    <td>@chamado.Id</td>
                    <td>@chamado.Motivos?.Nome</td> <!-- Nome do Motivo associado -->
                    <td>@chamado.Complemento?.Nome</td> <!-- Nome do Complemento associado -->
                    <td>@chamado.Urgencia</td>
                    <td>@chamado.Status</td>
                </tr>
                    }
                  </tbody>
              </table>
          </div>
          <!-- Área de Informações do Usuário -->
          <div class="col-md-4">
              <div class="card mb-3">
                  <div class="card-header bg-dark text-white">
                      Informações do Usuário
                  </div>
                  <div class="card-body">
                      <h5 class="card-title">Solicitante</h5>
                      <p class="card-text">Nome do Solicitante</p>
                      <h5 class="card-title">Setor</h5>
                      <p class="card-text">Nome do Setor</p>
                      <h5 class="card-title">Telefone</h5>
                      <p class="card-text">(XX) XXXX-XXXX</p>
                      <h5 class="card-title">E-mail</h5>
                      <p class="card-text">usuario@exemplo.com</p>
                      <h5 class="card-title">Observações</h5>
                      <p class="card-text" id="observacoesTexto"></p>
                  </div>
              </div>
              <div class="d-flex gap-3">
                <button type="submit" class="btn btn-primary">Atender</button>
                <button class="btn btn-success">Concluir</button>
                <button class="btn btn-dark">Gerar Relatório</button>
            </div>
          </div>
      </div>
    </form>
  </div>
      
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const atenderButton = document.getElementById("atenderButton");
        const observacoesTexto = document.getElementById("observacoesTexto");

        // Adiciona um evento a todos os radiobuttons
        document.querySelectorAll("input[name='selectedChamadoId']").forEach(radio => {
            radio.addEventListener("change", function () {
                // Habilita o botão "Atender"
                //atenderButton.disabled = false;

                // Atualiza o texto das observações com base no chamado selecionado
                observacoesTexto.textContent = radio.getAttribute("data-observacoes") || "Sem observações.";
            });
        });
    });
</script>



